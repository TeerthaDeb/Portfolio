{"ast":null,"code":"import React,{useState}from\"react\";import emailjs from\"emailjs-com\";import DOMPurify from\"dompurify\";import SocialLinks from\"./Socials\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ContactMenu(){const initialState={name:\"\",email:\"\",message:\"\"};const[formData,setFormData]=useState(initialState);const[errors,setErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[isSent,setIsSent]=useState(false);const handleChange=e=>{const{name,value}=e.target;setFormData(prevFormData=>({...prevFormData,[name]:value}));};const handleSubmit=e=>{e.preventDefault();const validateErrors=validateForm();if(Object.keys(validateErrors).length>0){setErrors(validateErrors);return;}setIsLoading(true);const{name,email,message}=formData;const sanitizedData={name:\"Name: \"+DOMPurify.sanitize(name),email:\"Email: \"+DOMPurify.sanitize(email),message:\"Message: \"+DOMPurify.sanitize(message)};const serviceID=process.env.REACT_APP_EMAILJS_SERVICE_ID;const templateID=process.env.REACT_APP_EMAILJS_TEMPLATE_ID;const userID=process.env.REACT_APP_EMAILJS_USER_ID;emailjs.send(serviceID,templateID,sanitizedData,userID).then(response=>{console.log(\"Email is sent successfully!\",response.text);setFormData(initialState);setErrors({});setIsSent(true);}).catch(error=>{console.error(\"Email sending failed\",error);}).finally(()=>{setIsLoading(false);});};const validateForm=()=>{const{name,email,message}=formData;const errors={};if(!name.trim()){errors.name=\"Name is required\";}if(!email.trim()){errors.email=\"Email is required\";}else if(!isValidEmail(email)){errors.email=\"Invalid email format\";}if(!message.trim()){errors.message=\"Message is required\";}return errors;};const isValidEmail=value=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"contact-menu\",children:[!isSent&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,className:errors.name?\"error\":\"\",disabled:isLoading}),errors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,className:errors.email?\"error\":\"\",disabled:isLoading}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",placeholder:\"Message\",value:formData.message,onChange:handleChange,className:errors.message?\"error\":\"\",disabled:isLoading}),errors.message&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?\"SENDING...\":\"SUBMIT\"})]}),isSent&&/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"SUCCESS!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your message has been successfully sent!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You can safely leave this page.\"})]}),/*#__PURE__*/_jsx(SocialLinks,{})]});}","map":{"version":3,"names":["React","useState","emailjs","DOMPurify","SocialLinks","jsx","_jsx","jsxs","_jsxs","ContactMenu","initialState","name","email","message","formData","setFormData","errors","setErrors","isLoading","setIsLoading","isSent","setIsSent","handleChange","e","value","target","prevFormData","handleSubmit","preventDefault","validateErrors","validateForm","Object","keys","length","sanitizedData","sanitize","serviceID","process","env","REACT_APP_EMAILJS_SERVICE_ID","templateID","REACT_APP_EMAILJS_TEMPLATE_ID","userID","REACT_APP_EMAILJS_USER_ID","send","then","response","console","log","text","catch","error","finally","trim","isValidEmail","emailRegex","test","className","children","onSubmit","htmlFor","type","id","placeholder","onChange","disabled"],"sources":["D:/Full Stack/Personal Portfolio/Portfolio/src/contact/ContactMenu.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport DOMPurify from \"dompurify\";\nimport SocialLinks from \"./Socials\";\n\nexport default function ContactMenu() {\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    message: \"\",\n  };\n\n  const [formData, setFormData] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSent, setIsSent] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevFormData) => ({\n      ...prevFormData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const validateErrors = validateForm();\n    if (Object.keys(validateErrors).length > 0) {\n      setErrors(validateErrors);\n      return;\n    }\n\n    setIsLoading(true);\n\n    const { name, email, message } = formData;\n    const sanitizedData = {\n      name: \"Name: \" + DOMPurify.sanitize(name),\n      email: \"Email: \" + DOMPurify.sanitize(email),\n      message: \"Message: \" + DOMPurify.sanitize(message),\n    };\n\n    const serviceID = process.env.REACT_APP_EMAILJS_SERVICE_ID;\n    const templateID = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\n    const userID = process.env.REACT_APP_EMAILJS_USER_ID;\n\n    emailjs\n      .send(serviceID, templateID, sanitizedData, userID)\n      .then((response) => {\n        console.log(\"Email is sent successfully!\", response.text);\n        setFormData(initialState);\n        setErrors({});\n        setIsSent(true);\n      })\n      .catch((error) => {\n        console.error(\"Email sending failed\", error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const validateForm = () => {\n    const { name, email, message } = formData;\n    const errors = {};\n\n    if (!name.trim()) {\n      errors.name = \"Name is required\";\n    }\n\n    if (!email.trim()) {\n      errors.email = \"Email is required\";\n    } else if (!isValidEmail(email)) {\n      errors.email = \"Invalid email format\";\n    }\n\n    if (!message.trim()) {\n      errors.message = \"Message is required\";\n    }\n\n    return errors;\n  };\n\n  const isValidEmail = (value) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(value);\n  };\n\n  return (\n    <div className=\"contact-menu\">\n      {!isSent && (\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name:</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              placeholder=\"Name\"\n              value={formData.name}\n              onChange={handleChange}\n              className={errors.name ? \"error\" : \"\"}\n              disabled={isLoading}\n            />\n            {errors.name && (\n              <span className=\"error-message\">{errors.name}</span>\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email:</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              value={formData.email}\n              onChange={handleChange}\n              className={errors.email ? \"error\" : \"\"}\n              disabled={isLoading}\n            />\n            {errors.email && (\n              <span className=\"error-message\">{errors.email}</span>\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"message\">Message:</label>\n            <textarea\n              id=\"message\"\n              name=\"message\"\n              placeholder=\"Message\"\n              value={formData.message}\n              onChange={handleChange}\n              className={errors.message ? \"error\" : \"\"}\n              disabled={isLoading}\n            ></textarea>\n            {errors.message && (\n              <span className=\"error-message\">{errors.message}</span>\n            )}\n          </div>\n          <button type=\"submit\" disabled={isLoading}>\n            {isLoading ? \"SENDING...\" : \"SUBMIT\"}\n          </button>\n        </form>\n      )}\n      {isSent && (\n        <div className=\"success-message\">\n          <p>SUCCESS!</p>\n          <p>Your message has been successfully sent!</p>\n          <p>You can safely leave this page.</p>\n        </div>\n      )}\n\n\t  <SocialLinks/>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}